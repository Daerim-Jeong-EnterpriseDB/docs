---
title: Upgrading Postgres major versions on BigAnimal
navTitle: Upgrading Postgres major versions
---

## Overview

To upgrade small to moderately large databases (up to several tens of gigabytes) between major versions of Postgres on BigAnimal, we recommend utilizing pg_dump to migrate data and populate a new instance. This method will require some downtime, so schedule the pg_dump operation accordingly.

## Migrating Postgres Versions on BigAnimal with pg_dump

!!! Important
This method will likely accrue ingress and egress costs for the migrated data via your cloud service provider (CSP). Please consult the documentation of your cloud service provider to see how ingress and egress fees are calculated.
!!!

### Confirming the Postgres versions before migration

First, confirm your current version of Postgres on both the old BigAnimal instance (the instance you are migrating *from*) and the new BigAnimal instance (the instance you are migrating *to*)

`psql "<biganimal_read/write_uri>" -c "select version();"

### Execute the pg_dump command

!!! Info
Due to password authentications entailed with piping the pg_dump command to the psql command, it is recommended that you [utilize pgpass for authentication](https://www.postgresql.org/docs/16/libpq-pgpass.html) before performing the migration using the pg_dump command.
https://www.postgresql.org/docs/16/libpq-pgpass.html
!!!

Next, execute the pg_dump command:

```bash
pg_dump -h <old_big_animal_read/write_host> -U <old_instance_user_name> -d <old_db_name> | psql -h <new_big_animal_read/write_host> -U <new_instance_username> -d <new_db_name> 
```

Successful output looks like the following:

```

```